DLL_W32GUICONS = @DLL_W32GUICONS@
CC             = @CC@
CFLAGS         = @CFLAGS_MACHINE@ @CFLAGS@
RC             = @RC@
LD             = @LD@

# RCFLAGS        = /l 0x409
RCFLAGS        =

DLLNAME = $(DLL_W32GUICONS)
OBJDLL  = w32_console.obj
RESDLL  = w32_console.res

WIN32LIBS = kernel32.lib user32.lib gdi32.lib comdlg32.lib advapi32.lib \
            comctl32.lib shell32.lib ole32.lib htmlhelp.lib

# others:
# winspool.lib oleaut32.lib uuid.lib odbc32.lib odbccp32.lib


.SUFFIXES:
.SUFFIXES: @OBJ_SUFFIX@ .cpp .c .res .rc $(SUFFIXES)

.cpp@OBJ_SUFFIX@:
	$(CC) -c $(CFLAGS) $*.cpp

.c@OBJ_SUFFIX@:
	$(CC) -c $(CFLAGS) $*.c

.rc.res:
	$(RC) $(RCFLAGS) $*.rc

all: $(DLLNAME) w32gc_interf@OBJ_SUFFIX@

$(DLLNAME): $(OBJDLL) $(RESDLL)
	$(LD) /dll @LD_OUT_NAME_OPT@$(DLLNAME) $(OBJDLL) $(RESDLL) $(WIN32LIBS)



clean:
	rm -f *@OBJ_SUFFIX@ *.res *.RES $(DLLNAME) *.lib *.exp *.EXP *.idb *.pdb

distclean: clean
